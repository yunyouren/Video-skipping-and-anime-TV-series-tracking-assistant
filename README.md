# ⚡ 视频跳略与追番追剧助手 (Video Skipper & Tracker)

[![Manifest Version](https://img.shields.io/badge/Manifest-V3-blue?style=flat-square)](https://developer.chrome.com/docs/extensions/mv3/intro/)
[![Version](https://img.shields.io/badge/Version-3.0-green?style=flat-square)](manifest.json)
[![License](https://img.shields.io/badge/License-MIT-yellow?style=flat-square)](LICENSE)

**全能视频跳略与追番助手** 是一款专为 Bilibili 及主流视频网站打造的 Chrome 浏览器扩展。它不仅能帮你自动跳过繁琐的片头片尾，还能像私人管家一样记录你的追番进度，让你享受无缝丝滑的观影体验。

---

## ✨ 核心功能详解

### 🎬 智能跳略系统 (Smart Skipping)
*   **精准跳过片头/片尾**:
    *   支持自定义**片头 (Intro)** 和 **片尾 (Outro)** 的跳过时长（精确到秒）。
    *   **防误判机制**: 只有当视频总时长超过 **300秒**（可配置）时才会启用跳过，避免误伤短视频。
    *   **智能防重跳**: 如果你手动拖动进度条回看，插件会暂时禁用自动跳过，直到下一次播放。
*   **自动重播 (Auto Restart)**:
    *   当你打开一个之前看过但未看完的视频（例如进度在 95% 以上），插件会自动将其重置到片头位置重新播放，无需手动拖拽进度条。
*   **无缝连播**:
    *   在触发跳过片尾时，插件会自动寻找并点击网页上的“下一集”按钮，实现零操作追剧。

### ⚙️ 多场景预设 (Presets & Automation)
*   **域名自动匹配**:
    *   内置 **Bilibili**、**爱奇艺**、**腾讯视频** 等主流网站的配置方案。
    *   当访问不同网站时，插件会自动识别域名并切换到对应的预设（例如 B站跳过90秒，爱奇艺跳过120秒）。
*   **自定义方案**:
    *   你可以创建无限个预设方案，并为它们绑定特定的域名关键词。

### 🔖 追番追剧神器 (Series Tracker)
*   **智能标题解析**:
    *   自动从网页标题中提取 **番剧名称**、**当前集数**（如 "第12集", "Ep.3"）和 **站点来源**。
    *   支持解析 Iframe 嵌套视频的真实标题。
*   **进度自动同步**:
    *   对于已收藏的番剧，插件会每隔 10 秒自动更新你的观看进度（集数与时间）。
    *   **一键续看**: 点击收藏列表中的番剧，直接跳转到上次观看的精确时间点（支持 B站 `t=xx` 参数跳转）。
*   **高级管理**:
    *   **文件夹分类**: 支持创建自定义文件夹（如“日漫”、“美剧”、“补番中”）整理你的收藏。
    *   **数据备份**: 支持将所有追番记录导出为 JSON 文件，或从备份文件导入，数据永不丢失。

### ⌨️ 高效快捷键 (Shortcuts)
*   **全局控制**:
    *   **快进**: 默认 `Shift + →`（支持自定义按键组合）。
    *   **快退**: 默认 `Shift + ←`。
*   **自定义步长**:
    *   可在设置中调整每次快进/快退的秒数（默认 90秒，适合快速跳过超长广告或无聊剧情）。

---

## 🚀 安装指南

目前本插件尚未上架 Chrome 应用商店，请按照以下步骤安装：

1.  **下载源码**
    - 点击右上角的 `Code` -> `Download ZIP` 下载本项目，并解压到一个文件夹中。
    - 或者使用 Git 克隆：
      ```bash
      git clone https://github.com/your-username/bilibili-skipper.git
      ```

2.  **加载扩展**
    - 打开 Chrome 浏览器，在地址栏输入 `chrome://extensions/` 并回车。
    - 打开右上角的 **“开发者模式” (Developer mode)** 开关。
    - 点击左上角的 **“加载已解压的扩展程序” (Load unpacked)**。
    - 选择刚才解压的文件夹（确保该文件夹内包含 `manifest.json` 文件）。

3.  **开始使用**
    - 安装成功后，浏览器右上角会出现插件图标，建议将其**固定 (Pin)** 在工具栏以便随时使用。

---

## 📖 使用手册

### 1. 基础配置
点击插件图标打开控制面板：
- **全局开关**: 顶部的主开关可以一键启用或禁用所有功能。
- **跳过设置**:
  - **Intro (片头)**: 输入需要跳过的秒数。
  - **Outro (片尾)**: 输入需要跳过的秒数。
- **自动下一集**: 勾选后，视频结束时尝试自动跳转。

### 2. 管理预设 (Presets)
- **新建预设**: 调整好参数后，点击“+”号保存为新预设。
- **绑定域名**: 在预设详情中输入域名关键词（如 `iqiyi`），下次访问该网站时自动应用。

### 3. 追番收藏
- **添加**: 在视频播放页面，打开插件，点击 **“+ 收藏当前”**。
- **续看**: 点击列表中的番剧名，直接跳转播放。
- **导入/导出**: 点击设置底部的“导出备份”或“导入备份”按钮进行数据迁移。

---

## 🛠️ 权限说明 (Privacy)

本扩展尊重您的隐私，所有数据（设置、收藏列表）均存储在您本地浏览器中 (`chrome.storage.local`)，不会上传至任何远程服务器。

- `storage`: 用于保存您的配置和追番记录。
- `tabs` / `activeTab`: 用于检测当前播放的视频并执行跳转逻辑。
- `scripting`: 用于在页面中注入控制脚本。
- `all_urls`: 为了支持不同视频网站的通用性，我们需要在视频页面运行。

---

## 📝 开发与贡献

本项目基于 **Manifest V3** 开发，纯原生 JavaScript (ES6+)，无复杂的构建流程，轻量高效。

- `manifest.json`: 配置文件
- `content.js`: 核心逻辑（DOM操作、时间监听、自动跳转）
- `background.js`: 后台服务（脚本注入、跨域标题获取）
- `popup.html/js`: 交互界面（设置、收藏夹、数据管理）

欢迎提交 Issue 或 Pull Request 来改进这个项目！

---

## 📄 License

[MIT License](LICENSE)
